- meta title: t('.title')

= render 'solicitations_tabs'
%p= page_entries_info @solicitations
= paginate @solicitations

- max_badge_updated_at = Badge.maximum(:updated_at)
= render partial: 'solicitations/solicitation', collection: @solicitations, cached: -> (solicitation) { [solicitation, max_badge_updated_at] }

= paginate @solicitations

:javascript
  $(document).ready(function() {
    $('select.ui.selection.search.dropdown.badges').dropdown({
      fullTextSearch: 'exact',
      ignoreDiacritics: true,
      message: {
        noResults     : '#{link_to t('.manage_badges'), badges_path}'
      }
    })
    $('.modify-badges').click( function() {
      let solicitationId = $(this).data('id')
      let $div = $('#solicitation-' + solicitationId + '-badges')
      let $form = $('#solicitation-' + solicitationId + '-form-badges')
      $div.toggleClass('hide')
      $form.toggleClass('hide')
    })
  })
