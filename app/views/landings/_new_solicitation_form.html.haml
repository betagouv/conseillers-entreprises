= form_with(model: solicitation, url: path, local: true, html: { honeypot: true }) do |f|
  - if solicitation.errors.present?
    :javascript
      _paq.push(['trackEvent', 'contact-entreprise', 'failure']);
  = f.hidden_field :landing_options_slugs, multiple: true
  = f.hidden_field :landing_slug
  .form__group
    - solicitation.required_fields.each do |field|
      .form__group
        = f.label field
        - help = t(".attributes.help.#{field}_html", default: [".attributes.help.#{field}".to_sym, ''])
        - if help.present?
          %span= help

        = f.text_field field,
          placeholder: t(".attributes.placeholder.#{field}"),
          type: Solicitation::FIELD_TYPES[field],
          required: true
        .notification.error= solicitation.errors.full_messages_for(field).to_sentence
  .form__group
    = f.label 'description', t('.description')
    - if solicitation.landing_option&.description_explanation.present?
      .explanation
        %div
          = image_tag('info-alert.png', alt: '')
          %span
            = t('.better_taking_care')
        %div= solicitation.landing_option&.description_explanation&.html_safe
    = f.text_area 'description', placeholder: t("landings.new_solicitation_form.attributes.placeholder.description"), rows: 6, required: true
    .notification.error= solicitation.errors.full_messages_for(:description).to_sentence
  .form__group
    = f.submit t('.button.title'), class: 'button large'
