.fr-mb-3w
  = form_with url: form_url, method: :get, local: true do |f|
    .fr-select-group.annuaire-region-select{ role: "search" }
      = f.label :region_id, t('.select_region'), class: 'fr-label'
      = f.collection_select :region_id, Territory.regions.order(:name), :id, :name, { selected: session[:annuaire_region_id],
        prompt: t('.all_regions') }, required: true, class: "fr-select"
      = f.submit t('.filter'), class: 'fr-btn'
  - if session[:annuaire_region_id].present?
    = link_to t('clear_search'), init_url, id: 'clear-search'


= form_with url: annuaire_search_path, local: true, class: 'fr-mb-3w' do |f|
  .fr-grid-row
    .fr-col
      .fr-select-group.fr-pr-2v
        = f.label :institution_slug, t('attributes.institution'), class: 'fr-label'
        = f.collection_select :institution_slug, Institution.not_deleted.order(:name), :slug, :name, { selected: params[:institution_slug],
          prompt: t('.all_regions') }, required: true, class: "fr-select"
    .fr-col
      .fr-input-group
        = f.label :advisor_search, t('attributes.advisor'), class: 'fr-label'
        = f.text_field :advisor_search, value: params[:advisor_search], class: 'fr-input'

  = f.submit t('.search'), class: 'fr-btn fr-mt-2w'
